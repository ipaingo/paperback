## металлические стержни
один стержень материала в длину составляет 5000 мм.

| № детали | длина | количество | в комплекте |
| -------- | ----- | ---------- | ----------- |
| 1        | 1655  | 1          | * 12 = 12   |
| 2        | 1050  | 5          | * 12 = 60   |
| 3        | 210   | 1          | * 12 = 12   |
суммарная длина составляет 85380 мм. необходимо произвести 12 комплектов деталей.

нужно примерно 17 стержней.

### 1. жадно
1655 + 1655 + 1655 + 35 = 4 стержня
1050 + 1050 + 1050 + 1050 + 210 + 210 + 210 + 170 = 15 стержней

получается 15 стержней. общая длина $19 \cdot 5=95000$

$\dfrac{85380}{95000} = 0.9$, т.е. 10% материала будет утилизировано.

### 2. попробуем перераспределить
1050 + 1050 + 1050 + 1655 = 12 стержней
1050 + 1050 + 1050 + 1050 + 210 + 210 + 210 + 170 = 6 стержней

получается 18 стержней. общая длина 90000.

$\dfrac{85380}{90000} = 0.95$, т.е. 5% материала будет утилизировано. уже лучше.

## деревообработка

ширина досок 15 см, длина 4 м или 6 м. толщина 4 см или 5 см. запасы соответственно 19 и 17 кубометров.

|       | ширина | длина | толщина | запас           |
| ----- | ------ | ----- | ------- | --------------- |
| $g_1$ | 15 см  | 4 м   | 4 см    | 17 $\text{м}^3$ |
| $g_2$ | 15 см  | 6 м   | 5 см    | 19 $\text{м}^3$ |
заказ:
1.7 м, 2.1 м любой толщины.
1.7 м — 2300 штук;
2.1 м — 1800 штук.

в каком количестве и как резать доски, чтобы израсходовать минимальное количество древесины для этого заказа?

четырехметровая доска: может поместиться 2.1 м, 1.7+1.7 м, 1.7 м, 2.1+1.7 м.
аналогичено для шестиметровой доски.

табличка вариантов разреза досок:

|     | ==$\quad$ $\quad$ $\quad$ $\quad$ 4 м $\quad$ $\quad$ $\quad$ $\quad$ $\quad$$\quad$ $\quad$== | $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ 6 м $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$ $\quad$$\quad$$\quad$$\quad$$\quad$$\quad$ |
| --- | ---------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

| 1.7 | ==0==   | ==1==   | ==2==   | ==1==   | 0       | 0       | 1       | 1       | 1       | 2        | 2        | 3        |
| --- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | -------- | -------- | -------- |
| 2.1 | ==1==   | ==0==   | ==0==   | ==1==   | 1       | 2       | 0       | 1       | 2       | 0        | 1        | 0        |
|     | $x_{1}$ | $x_{2}$ | $x_{3}$ | $x_{4}$ | $x_{5}$ | $x_{6}$ | $x_{7}$ | $x_{8}$ | $x_{9}$ | $x_{10}$ | $x_{11}$ | $x_{12}$ |

```
я пыталась покрасивее табличку сделать, честно.
```

$0 x_1 + 1 x_2 + 2 x_3 + 1 x_4 + 0 x_5 + 0 x_6 + 1 x_7 + 1 x_8 + 1 x_9 + 2 x_{10} + 2 x_{11} + 3 x_{12} \ge 2300$
$1 x_1 + 0 x_2 + 0 x_3 + 1 x_4 + 1 x_5 + 2 x_6 + 0 x_7 + 1 x_8 + 2 x_9 + 0 x_{10} + 1 x_{11} + 0 x_{12} \ge 1800$

$(x_1 + x_2 + x_3 + x_4)(0.15 \cdot 4 \cdot 0.04) \le 19$
$(x_5 + x_6 + x_7 + x_8 + x_9 + x_{10} + x_{11} + x_{12})(0.15 \cdot 6 \cdot 0.05) \le 17$
$x_j \ge 0$, $x_j \in \mathbb Z$ 

$(x_1 + x_2 + x_3 + x_4)(0.15 \cdot 4 \cdot 0.04) + (x_5 +\ ...\ + x_{12})(0.15 \cdot 6 \cdot 0.05) \to \min$

## в общем виде

$N$ — множество вариантов раскроя. (в примере 12 вариантов)
$x_j$ — количество раскроев в $j$.
$M$ — множество заказанных форматов.
$b_i$ — количество заказанных изделий $i$.
$a_{ij}$ — количество рулонов (или других единиц) формата $i$ при раскрое $j$.
$c_j$ — ширина обрезка при $j$-том варианте раскроя.
$$\sum x_j c_j \to \min$$
$$\underset{j \in N}{\sum} a_{ij} x_j \ge b_i$$
$$x_j \ge 0$$
$h_i$ — убыток.
$z_i$ — что?

$$\sum a_{ij} x_j - z_i = b_i$$
$$\underset{j}{\sum}x_j c_j + \underset{i}{\sum} h_i z_i \to \min$$
это означает, что выпуск сверх плана не поощрается.

$$\sum x_j \to \min$$
