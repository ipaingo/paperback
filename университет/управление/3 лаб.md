2. VNXe > Setting > More configuration… > Port Settings

Fibre Channel (FC) — это технология передачи данных для высокоскоростных сетей хранения (SAN)
связывает серверы и системы хранения данных, обеспечивая стабильную, быструю и надёжную передачу информации

**World Wide Node Name**:*World Wide Port Name*

FC port 0
WWN on SPA: **50:06:01:60:88:E0:02:22**:*50:06:01:64:08:E0:02:22*
WWN on SPB: **50:06:01:60:88:E0:02:22**:*50:06:01:6C:08:E0:02:22*

FC port 1 
WWN on SPA: **50:06:01:60:88:E0:02:22**:*50:06:01:65:08:E0:02:22*
WWN on SPB: **50:06:01:60:88:E0:02:22**:*50:06:01:6D:08:E0:02:22*

FC port 2 
WWN on SPA: **50:06:01:60:88:E0:02:22**:*50:06:01:66:08:E0:02:22*
WWN on SPB: **50:06:01:60:88:E0:02:22**:*50:06:01:6E:08:E0:02:22*

FC port 3 
WWN on SPA: **50:06:01:60:88:E0:02:22**:*50:06:01:67:08:E0:02:22*
WWN on SPB: **50:06:01:60:88:E0:02:22**:*50:06:01:6F:08:E0:02:22*

в основном они одинаковые, только в WWPN четвертое значение для SPA 64, 65, 66, 67, а для SPB 6C, 6D, 6E, 6F.

WWNN (World Wide Node Name) используется для идентификации узла в сетях хранения данных.
WWPN (World Wide Port Name) это уникальный идентификатор для каждого порта Fibre Channel, представленный в сети хранения данных (SAN).

| WWNN                    | WWPN                    |
| ----------------------- | ----------------------- |
| 50:06:01:60:88:E0:02:22 | 50:06:01:64:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6C:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:65:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6D:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:66:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6E:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:67:08:E0:02:22 |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6F:08:E0:02:22 |

6. initiators

| WWNN                    | WWPN                    |
| ----------------------- | ----------------------- |
| 20:00:00:90:FA:14:3D:60 | 10:00:00:90:FA:14:3D:60 |
| 20:00:00:90:FA:14:3D:61 | 10:00:00:90:FA:14:3D:61 |
| 20:00:00:90:FA:14:3F:10 | 10:00:00:90:FA:14:3F:10 |
| 20:00:00:90:FA:14:3F:11 | 10:00:00:90:FA:14:3F:11 |
9. 
все порты VNXe (WWPN) подключены к коммутатору и зарегистрированы в FLOGI database
все инициаторы хоста (WWPN) подключены к коммутатору и зарегистрированы в FLOGI database
все порты VNXe присутствуют в активных зонах (zoneset)
все инициаторы хоста присутствуют в активных зонах (zoneset)

10. 

| WWNN                    | WWPN                    | zone name (zoneset FABRICA vsan 10)                                    | zone name (zoneset FABRICB vsan 20)                                    |
| ----------------------- | ----------------------- | ---------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| 50:06:01:60:88:E0:02:22 | 50:06:01:64:08:E0:02:22 | ```VNX_SPA_0_WIN1_HBA0 vsan 10```<br>```VNX_SPA_0_LIN1_HBA0 vsan 10``` |                                                                        |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6C:08:E0:02:22 |                                                                        | ```VNX_SPB_0_WIN1_HBA1 vsan 20```<br>```VNX_SPB_0_LIN1_HBA1 vsan 20``` |
| 50:06:01:60:88:E0:02:22 | 50:06:01:65:08:E0:02:22 | ```VNX_SPA_1_VNX_SPA_2 vsan 10```                                      |                                                                        |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6D:08:E0:02:22 |                                                                        | ```VNX_SPB_1_ VNX_SPB_2 vsan 20```                                     |
| 50:06:01:60:88:E0:02:22 | 50:06:01:66:08:E0:02:22 | ```VNX_SPA_1_VNX_SPA_2 vsan 10```                                      |                                                                        |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6E:08:E0:02:22 |                                                                        | ```VNX_SPB_1_ VNX_SPB_2 vsan 20```                                     |
| 50:06:01:60:88:E0:02:22 | 50:06:01:67:08:E0:02:22 |                                                                        |                                                                        |
| 50:06:01:60:88:E0:02:22 | 50:06:01:6F:08:E0:02:22 |                                                                        |                                                                        |
| 20:00:00:90:FA:14:3D:60 | 10:00:00:90:FA:14:3D:60 | ```VNX_SPA_0_WIN1_HBA0 vsan 10```                                      |                                                                        |
| 20:00:00:90:FA:14:3D:61 | 10:00:00:90:FA:14:3D:61 |                                                                        | ```VNX_SPB_0_WIN1_HBA1 vsan 20```                                      |
| 20:00:00:90:FA:14:3F:10 | 10:00:00:90:FA:14:3F:10 | ```VNX_SPA_0_LIN1_HBA0 vsan 10```                                      |                                                                        |
| 20:00:00:90:FA:14:3F:11 | 10:00:00:90:FA:14:3F:11 |                                                                        | ```VNX_SPB_0_LIN1_HBA1 vsan 20```                                      |


4. захват этого отпечатка - 139.970239
5. номер кадра FLOGI - 7, 265
FLOGI (Fabric Login) — это процесс, который происходит, когда сервер или адаптер Host Bus (HBA) включается и инициирует связь с локально подключённым коммутатором Fibre Channel (FC).

В процессе FLOGI устройство отправляет фрейм с параметрами World Wide Node Name (WWNN) и World Wide Port Name (WWPN) в службу входа по известному адресу FC off FFFFFE на коммутаторе FC. Коммутатор принимает вход и отправляет фрейм Accept (ACC) с подписанным FC-адресом устройства. 

FFFFE — Fabric Login Server. Используется, когда узел подключается к фабрике. Эта служба помогает обменять параметры сервиса с новым хостом и запросить 24-битный адрес.
FFFFD — Fabric Controller. Эта служба предоставляет уведомления об изменениях состояния зарегистрированным узлам.
FFFFC — Directory Server (Name Server). После получения уведомления об изменениях состояния узел обычно запрашивает у этого сервера информацию о том, что изменилось в представлении о фабрике.

После процесса FLOGI узел регистрирует себя с сервером имён на коммутаторе. Зарегистрированная информация включает WWNN, WWPN и FC-адрес узла.

| No. | Time     | Source   | Destination | Protocol | Length | Info        |
| --- | -------- | -------- | ----------- | -------- | ------ | ----------- |
| 7   | 1.038780 | 00.00.00 | ff.ff.fe    | FC ELS   | 176    | FLOGI       |
| 8   | 1.057644 | ff.ff.fe | 2b.00.0a    | FC ELS   | 176    | ACC (FLOGI) |
| ... | ...      | ...      | ...         | ...      | ...    | ...         |
| 265 | 5.168316 | 00.00.00 | ff.ff.fe    | FC ELS   | 176    | FLOGI       |
| 266 | 5.186697 | ff.ff.fe | 2b.00.0b    | FC ELS   | 176    | ACC (FLOGI) |
6. WWN первого порта, который регистрируется в Fabric
N_Port Port_Name: 10:00:00:00:c9:44:49:55 (Emulex) WWPN (World Wide Port Name) 
Fabric/Node Name: 20:00:00:00:c9:44:49:55 (Emulex) WWNN (World Wide Node Name)

7. поле Источник (Source) фрейма FLOGI содержит все нули
Это происходит, потому что порт еще не зарегистрирован в сети.
Устройство отправляет FLOGI с нулевым источником, чтобы получить назначенный Fabric адрес.
![[Pasted image 20250323143313.png]]

8. адрес для первого порта, который регистрируется в фабрике (Fabric) - 2b.00.0a
![[Pasted image 20250323143329.png]]
9. какой класс или классы службы действительны для узла, который пытается войти в систему
Class 2 Svc Parameters
Class 3 Svc Parameters

(Class 1, Class 4 - Class not supported)

10. GID_FT (Get Port Ids - FC-4 Type). Какой протокол определяется в FC-4 type и какое у него шестнадцатеричное представление?

| No. | Time     | Source   | Destination | Protocol | Length | Info         |
| --- | -------- | -------- | ----------- | -------- | ------ | ------------ |
| 15  | 1.058767 | 2b.00.0a | ff.ff.fc    | dNS      | 80     | GID_FT       |
| 22  | 1.075836 | ff.ff.fc | 2b.00.0a    | dNS      | 92     | ACC (GID_FT) |
| 273 | 5.187617 | 2b.00.0b | ff.ff.fc    | dNS      | 80     | GID_FT       |
| 280 | 5.204877 | ff.ff.fc | 2b.00.0b    | dNS      | 92     | ACC (GID_FT) |
dns
FC-4 Type: FCP (0x08)
![[telegram-cloud-document-2-5190407662990289324.jpg]]

11. какая служба отвечает на запрос GID_FT
F_CTL: 0x980000 Exchange Responder, Seq Initiator, Exchg Last, Seq Last CS_CTL
GS Type: Directory Service (0xfc)
![[telegram-cloud-document-2-5190407662990289335.jpg]]

12. Порты хранения в зоне, к которой принадлежит зарегистрированный узел, их имена:

| 22  | 1.075836 | ff.ff.fc | 2b.00.0a | dNS | 92  | ACC (GID_FT) |
| --- | -------- | -------- | -------- | --- | --- | ------------ |
dns
Port Identifier: 2b.00.07
Port Identifier: 2b.00.09
Port Identifier: 2b.00.0a
Port Identifier: 2b.00.0f

| 280 | 5.204877 | ff.ff.fc | 2b.00.0b | dNS | 92  | ACC (GID_FT) |
| --- | -------- | -------- | -------- | --- | --- | ------------ |
Port Identifier: 2b.00.07
Port Identifier: 2b.00.09
Port Identifier: 2b.00.0b
Port Identifier: 2b.00.0c

EMC SYMMETRIX 000187910377 SAF-16cB EMUL B61F0000 128E2A40 38FC00 2C8238 04.22.09 14:55 5671_080  
Emulex LP10000 FV1.90A4 DV6.02hx2


13. есть ли какие-либо HBAs в этой зоне
HBA (Host Bus Adapter) — это адаптер, который соединяет сервер (хост) с SAN (Storage Area Network) через интерфейс Fibre Channel (FC). каждый HBA имеет свой уникальный WWPN (World Wide Port Name) и WWNN (World Wide Node Name).

Fabric Port Name: 20:0e:00:0d:ec:18:cb:40 (Cisco)