транзакция - конечное множество операций над БД, выполняемые приложения, которое переводит БД из одного согласованного состояния в другое согласованное состояние, при условии, что транзакция выполнена полностью и без помех со стороны других приложений.

свойства транзакций:
- атомарность - любая транзакция должна быть либо выполнена полностью, либо (если по каким-либо причинам выполнение транзакции невозможно), ее частичное выполнение не должно оставить никаких следов ни в БД, ни в работе приложений.
- согласованность - при завершении транзакции не должны быть нарушены ограничения, накладываемые на данные
- изолированность - СУБД должна обеспечить выполнение без помех со стороны других транзакций (параллельные транзакции не должны влиять друг на друга, будто выполнены последовательно)
- долговечность - отказоустойчивость БД (после фиксации изменения не должны быть утеряны)

способы завершения транзакций:
- фиксация (commit) - нормальное завершение транзакции
- обрыв (abort) - невозможность полного выполнения

уровни изоляции
- read uncommited - разрешает доступ к результату еще не зафиксированной транзакции и никак не ограничивает выполнение транзакций, допуская появление любых аномалий
- read commited - результаты других транзакций становятся доступны только после их фиксации
- repeatable read - повторное выполнение операций дает такие же результаты, как первое выполнение
- serializable - выполнение транзакции должно быть эквивалентно некоторому последовательному выполнению

блокировка - перед выполнением операции объект данных, который обрабатывает эта операция, должен быть заблокирован. для разных операций используются разные типы блокировок. после выполнения операции (необязательно немедленно) блокировка должна быть снята.

типы блокировок:
- X-блокировка (полная) запрещает чтение и запись
- S-блокировка запрещает только запись

журнал транзакций - в него записываются последовательно все изменения, выполненные всеми транзакциями, а также записи о фиксации транзакций.

восстановление после отказов:
- отказы сервера -> выполняется перезагрузка сервера БД, во время которой необходимо привести БД в согласованное состояние, в котором все изменения, сделанные зафиксированными транзакциями, сохраняются, а незавершенные к моменту отказа сервера транзакции будут оборваны и для сделанных ими изменениями будет выполнен откат.

каждая запись в журнале транзакций имеет уникальный ID - LSN (Log Sequence Number); LSN строго упорядочены по возрастанию.